!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,(function(){return(()=>{var e={252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const o=["#36ace2","#6599eb","#646fed","#773bde","#bc4bce","#d54487","#de4b3b","#e17637","#e3a135","#c9a018","#a4c51b","#cbbc15","#7cd345","#53c657","#45d391","#38dde0"],r="#8c8c8c";function i(e,t,n){return t?n?Function.prototype.bind.call(e,console,"%c%s","color: "+n,t):Function.prototype.bind.call(e,console,"%c%s","color: "+r,t):Function.prototype.bind.call(e,console,"%cWeavy","color: "+r)}var a=function(e,t){if(!e)throw new Error("No context defined.");e instanceof URL&&(e=e.pathname.split("/").pop()||e.pathname||e.origin||e.hostname);var n=self.name?self.name+":":"",s=e.type||e.constructor&&e.constructor.name||"",c=e&&e.name?(s?".":"")+e.name:e.id?"#"+e.id:"",l="string"==typeof e?n+e:n+s+c,u=a.defaults,d=Array.from(n).reduce((function(e,t){return e+t.charCodeAt(0)}),0)%o.length,f=o[d],p=r,g=function(){};Object.defineProperty(this,"options",{get:function(){return u},set:function(e){u=Object.assign({},a.defaults,u,e),p=!0===u?f:!1===u.color?r:"string"==typeof u.color?u.color:f,this.log=!0===u||u.log?i(window.console.log,l,p):g,this.debug=!0===u||u.debug?i(window.console.debug,l,p):g,this.info=!0===u||u.info?i(window.console.info,l,p):g,this.warn=!0===u||u.warn?i(window.console.warn,l,p):g,this.error=!0===u||u.error?i(window.console.error,l,p):g;let t=!0===u||u.debug;this.assert=t?Function.prototype.bind.call(console.assert,console):g,this.count=t?Function.prototype.bind.call(console.count,console):g,this.countReset=t?Function.prototype.bind.call(console.countReset,console):g,this.dir=t?Function.prototype.bind.call(console.dir,console):g,this.dirxml=t?Function.prototype.bind.call(console.dirxml,console):g,this.table=t?Function.prototype.bind.call(console.table,console):g,this.time=t?Function.prototype.bind.call(console.time,console):g,this.timeEnd=t?Function.prototype.bind.call(console.timeEnd,console):g,this.timeLog=t?Function.prototype.bind.call(console.timeLog,console):g,this.trace=t?Function.prototype.bind.call(console.trace,console):g,this.clear=Function.prototype.bind.call(console.clear,console),this.group=Function.prototype.bind.call(console.group,console),this.groupCollapsed=Function.prototype.bind.call(console.groupCollapsed,console),this.groupEnd=Function.prototype.bind.call(console.groupEnd,console)}}),this.options=t};a.defaults={color:!0,log:!0,debug:!0,info:!0,warn:!0,error:!0};const s=a},122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(174),r=n.n(o),i=n(700),a=n.n(i),s=n(252),c=n(659),l=n.n(c);const u=new function(e){var t=new s.Z("WeavyPostal"),n=this;this.timeout=e&&e.timeout||2e3;var o=[],i=[],c=new Set,u=new Map,d=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,w=new(a()),y=null,m=null,h=null,v=null,b=null,j=O(window.location.href);function O(e){var n=null;try{n=/^((?:https?:\/\/[^/]+)|(?:file:\/\/))\/?/.exec(e)[1]}catch(e){t.error("Unable to resolve location origin. Make sure you are using http, https or file protocol and have a valid location URL.")}return n}function I(e){var t=e.source===window&&e.origin===j,n=e.source===h&&e.origin===v,o=d.has(e.source)&&e.origin===d.get(e.source);if(t||n||o){var a=!e.data.weavyId||!0===e.data.weavyId;o&&!e.data.windowName&&(e.data.windowName=f.get(e.source));var s=e.data.name;if("distribute"===s){if(y)return;e.data.name=e.data.distributeName}i.forEach((function(t){var n=t.name===s||"message"===t.name,o=null===t.selector,i=t.selector===e.data.weavyId,c=r().isPlainObject(t.selector)&&r().eqObjects(t.selector,e.data,!0);n&&(a||o||i||c)&&(t.handler(e,e.data),t.once&&C(t.name,t.selector,t.handler))}))}}function M(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t=null),i.push({name:e,handler:n,selector:t})}function C(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t=null),i=i.filter((function(o){var i=e===o.name,a=n===o.handler,s="string"==typeof t&&t===o.selector,c=r().isPlainObject(t)&&r().eqObjects(t,o.selector);return!(i&&a&&(s||c))}))}function T(e,t){if(u.has(t)){if(u.get(t).has(e)){var n=u.get(t).get(e);try{c.delete(n),f.delete(n),p.delete(n),d.delete(n)}catch(e){}}if(u.get(t).delete(e),0===u.get(t).size)try{u.delete(t)}catch(e){}}}function E(e,o,i){var s=new(a());null===i&&(i=void 0);var c=e===window.self,l=h&&h!==window&&h===e,u=c?O(window.location.href):l?v:d.get(e);return c||l||e&&u===g.get(e)?(o.weavyMessageId||(o.weavyMessageId=r().S4()+r().S4()),queueMicrotask((()=>{t.debug("whenPostMessage",o.name,o.weavyMessageId);var r=setTimeout((function(){"pending"===s.state()&&s.reject(new Error("postMessage() receipt timed out: "+o.weavyMessageId+", "+o.name))}),n.timeout||2e3);M("message-receipt",{weavyId:o.weavyId,weavyMessageId:o.weavyMessageId},(function(){t.debug("message-receipt received",o.weavyMessageId,o.name),clearTimeout(r),s.resolve()}));try{e.postMessage(o,u,i)}catch(e){s.reject(e)}}))):s.reject(new Error("postMessage() Invalid window origin: "+u+", "+o.name)),s()}function S(e,n){if("object"==typeof e&&e.name)return w().then((function(t){return t?a().resolve():(void 0===e.weavyId&&(e.weavyId=m),void 0===e.windowName&&(e.windowName=b),E(h,e,n))}));t.error("postToParent() Invalid message format",e)}function P(){"pending"===w.state()&&(t.debug("Is leader"),y=!0,w.resolve(y))}window.addEventListener("message",(function(e){if(e.data.name&&void 0!==e.data.weavyId){if(e.data.weavyMessageId&&"message-receipt"!==e.data.name){t.debug("sending message receipt",e.data.weavyMessageId,e.data.name);try{e.source.postMessage({name:"message-receipt",weavyId:e.data.weavyId,weavyMessageId:e.data.weavyMessageId},e.origin)}catch(e){t.error("could not post back message-receipt to source")}}switch(e.data.name){case"register-child":if(!h){if(p.has(e.source)||t.warn("register-child: contentwindow not pre-registered"),d.get(e.source)!==e.origin)return void t.error("register-child: "+f.get(e.source)+" has invalid origin",e.origin);try{var n=p.get(e.source),r=f.get(e.source);r&&e.source.postMessage({name:"register-window",windowName:r,weavyId:n||!0},e.origin)}catch(e){t.error("could not register frame window",n,r,e)}}break;case"register-window":h||(v=e.origin,h=e.source,b=e.data.windowName,m=e.data.weavyId),t.debug("is not leader"),y=!1,w.resolve(!1);var i=l().context&&l().context.statusCode,a=l().context&&l().context.statusDescription,s=document.querySelector(".navbar-middle"),c=s&&s.innerText;try{e.source.postMessage({name:"ready",windowName:e.data.windowName,weavyId:e.data.weavyId,location:window.location.href,title:c,statusCode:i,statusDescription:a},e.origin)}catch(e){t.error("register-window could not post back ready-message to source",e)}l().whenLoaded&&l().whenLoaded.then((function(){S({name:"load"})})),o.length&&(o.forEach((function(e){I(e)})),o=[]);break;case"ready":u.has(e.data.weavyId)&&f.has(e.source)&&u.get(e.data.weavyId).get(f.get(e.source))&&(g.set(e.source,e.origin),I(e));break;case"reload":t.debug("reload",b,!!e.data.force),window.location.reload(e.data.force);break;default:e.source===window||h||u.size?I(e):o.push(e)}}})),this.on=M,this.one=function(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t=null),i.push({name:e,handler:n,selector:t,once:!0})},this.off=C,this.registerContentWindow=function(e,n,o,r){try{if(!n)return void t.error("registerContentWindow() No valid contentWindow to register, must be a window and have a name.")}catch(e){t.error("registerContentWindow() cannot access contentWindowName")}e.self&&(e=e.self),o&&"true"!==o||(o=!0),u.has(o)||u.set(o,new Map),u.get(o).set(n,e),c.add(e),f.set(e,n),p.set(e,o),d.set(e,r)},this.unregisterContentWindow=T,this.unregisterAll=function(e){u.has(e)&&(u.get(e).forEach((function(t,n){T(n,e)})),u.get(e),u.delete(e))},this.postToFrame=function(e,n,o,r){if("object"==typeof o&&o.name){var i;try{i=u.get(n).get(e)}catch(o){t.error("postToFrame() Window not registered",n,e)}return o.weavyId=n,E(i,o,r)}t.error("postToFrame() Invalid message format",o)},this.postToParent=S,this.postToSelf=function(e,n){if("object"==typeof e&&e.name)return e.weavyId=e.weavyId||!0,E(window.self,e,n);t.error("postToSelf() Invalid message format",e)},this.postToSource=function(e,n,o){if(e.source&&void 0!==e.data.weavyId){var r=e.source===window.self&&e.origin===j,i=e.source===h&&e.origin===v,a=d.has(e.source)&&e.origin===d.get(e.source);if(null===o&&(o=void 0),r||i||a){n.weavyId=e.data.weavyId;try{e.source.postMessage(n,e.origin,o)}catch(e){t.error("postToSource() Could not post message back to source")}}}},this.postToChildren=function(e,n){"object"==typeof e&&e.name?(null===n&&(n=void 0),e.distributeName=e.name,e.name="distribute",e.weavyId=e.weavyId||!0,c.forEach((function(o){if(d.get(o)===g.get(o))try{o.postMessage(e,d.get(o),n)}catch(e){t.warn("postToChildren() could not distribute message to "+f.get(o))}}))):t.error("postToChildren() Invalid message format",e)},this.whenLeader=function(){return w()},Object.defineProperty(this,"isLeader",{get:function(){return y}}),Object.defineProperty(this,"parentWeavyId",{get:function(){return m}}),Object.defineProperty(this,"parentName",{get:function(){return b}}),Object.defineProperty(this,"parentOrigin",{get:function(){return v}}),function(){var e=window.self.opener!==window.self&&window.self.opener||window.self.parent!==window.self&&window.self.parent;if(e){var n;try{if(!n){let e=l().config.corsOrigins;!e||1===e.length&&"*"===e[0]||(n=e,t.debug("Using CORS origin"))}}catch(e){}try{n||(n=[e.location.origin])&&t.log("Using same-domain origin")}catch(e){}if(n=n||["*"],(n=Array.from(n).map((e=>-1!==e.indexOf("*")?"*":e)).filter(((e,t,n)=>n.indexOf(e)===t)).sort(((e,t)=>e.indexOf("*")-t.indexOf("*")))).length>1){var o;if("ancestorOrigins"in window.location&&(o=window.location.ancestorOrigins[0]),!o)try{o=e.location.origin}catch(e){}!o&&document.referrer&&new URL(document.referrer).origin!==window.location.origin&&(o=new URL(document.referrer).origin),o&&n.indexOf(o)>=0?n=[o]:t.warn("Frame registration may cause "+(n.length-1)+" origin error messages in the console due to multiple cors-origins configured.")}n.length?(t.debug("Checking for parent"),n.forEach((function(n){"*"===n&&t.warn("Using wildcard origin for registration.");try{e.postMessage({name:"register-child",weavyId:!0},n)}catch(e){t.error("Error checking for parent",e)}}))):t.warning("Could not find any parent with valid origin."),requestAnimationFrame((function(){window.setTimeout(P,n.length?2e3:1)}))}else P()}()}},700:function(e,t,n){var o,r;"undefined"!=typeof self&&self,o=function(){window.addEventListener("unhandledrejection",(function(e){e.promise.weavy&&e.preventDefault()}));var e=function(e){var t,n="pending",o=function(){return t};return o.promise=o.bind(o),o.state=function(){return n},(o.reset=function(){var r,i;return n="pending",t=new Promise((function(e,t){r=function(){n="resolved",e.apply(this,arguments)},i=function(){n="rejected",t.apply(this,arguments)}})),t.weavy=!0,o.resolve=function(){return r.apply(t,arguments),o},o.reject=function(){return i.apply(t,arguments),o},"function"==typeof e&&e(r,i),o})(),o.then=function(){return(t=t.then.apply(t,arguments)).weavy=!0,o},o.catch=function(){return(t=t.catch.apply(t,arguments)).weavy=!0,o},o.finally=function(){return(t=t.finally.apply(t,arguments)).weavy=!0,o},o};return e.resolve=function(t){var n=e();return n.resolve(t),n},e.reject=function(t){var n=e();return n.reject(t),n},e},void 0===(r="function"==typeof o?o.call(t,n,t,e):o)||(e.exports=r)},174:function(e,t){var n,o,r;"undefined"!=typeof self&&self,o=[],n=function(){var e={S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},delegate:function(e,t){return function(n){var o=n.target;do{o.matches(e)&&t.apply(o,arguments)}while((o=o.parentNode)&&o!==n.currentTarget)}},debounce:function(e,t){let n,o=function(){const o=this,r=arguments;clearTimeout(n),n=setTimeout((()=>e.apply(o,r)),t)};return o.cancel=function(){clearTimeout(n)},o},throttle:function(e,t,n){let o,r,i=function(){const i=this,a=arguments;r?(clearTimeout(o),o=setTimeout((function(){Date.now()-r>=t&&(n?r=null:(e.apply(i,a),r=Date.now()))}),t-(Date.now()-r))):(e.apply(i,a),r=Date.now())};return i.cancel=function(){clearTimeout(o)},i},parseHTML:function(e){if("content"in document.createElement("template")){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children}var n=document.implementation.createHTMLDocument();return n.body.innerHTML=e.trim(),n.body.children},isVisible:function(e){return e.isConnected&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isPlainObject:function(t){var n,o;return!1!==e.isObject(t)&&(void 0===(n=t.constructor)||(o=n.prototype,!1!==e.isObject(o)&&!1!==Object.prototype.hasOwnProperty.call(o,"isPrototypeOf")))},isJQuery:function(e){return!!(e&&e.jquery&&e.length)},assign:function(t,n,o){var r;t=t||{},n=n||{};var i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o&&i[r]&&e.isPlainObject(i[r])&&e.isPlainObject(n[r])?i[r]=e.assign(i[r],n[r],o):i[r]=n[r]);return i},asArray:function(e){return e&&(Array.isArray(e)?e:[e])||[]},asElement:function(t){if(t){if(t instanceof HTMLElement)return t;if("string"==typeof t)return 0===t.indexOf("<")?e.parseHTML(t)[0]:document.querySelector(t);if(e.isJQuery(t))return console.warn("Weavy: providing jQuery elements is deprecated, please provide a HTMLElement or selector query instead."),t[0]}},eqString:function(e,t,n){return(n||"string"==typeof e&&"string"==typeof t)&&String(e).toUpperCase()===String(t).toUpperCase()},eqObjects:function(t,n,o){if(!e.isPlainObject(t)||!e.isPlainObject(n))return!1;var r=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(n);if(!o&&r.length!==i.length)return!1;for(var a=0;a<r.length;a++){var s=r[a],c=t[s],l=n[s];if(c!==l&&!e.eqJQuery(c,l)&&!e.eqObjects(c,l))return!1}return!0},eqJQuery:function(e,t){return e&&t&&e.jquery&&t.jquery&&e.jquery===t.jquery&&e.length===t.length&&e.length===e.filter(t).length},sanitizeJSON:function(e,t){if(!(t instanceof HTMLElement||t instanceof Node))return t},toSnakeCase:function(e){return e.length>0?e.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/-|\s+/g,"_").toLowerCase():e},toCamelCase:function(e,t){return(e=t?e[0].toUpperCase()+e.substring(1):e[0].toLowerCase()+e.substring(1)).replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace("-","").replace("_","")}))},keysToCamelCase:function(t,n){if(e.isPlainObject(t)){const o={};return Object.keys(t).forEach((function(r){o[e.toCamelCase(r,n)]=e.keysToCamelCase(t[r],n)})),o}return Array.isArray(t)?t.map((function(t){return e.keysToCamelCase(t,n)})):t},keysToPascalCase:function(t){return e.keysToCamelCase(t,!0)},serializeObject:function(t,n){n=n||!1;var o={};return new FormData(t).forEach(((t,r)=>{var i=n?e.toSnakeCase(r):r;void 0!==o[i]?(o[i].push||(o[i]=[o[i]]),o[i].push(t||"")):o[i]=t||""})),o},processJSONResponse:function(t){if(t){let n=(t.headers.has("content-type")?t.headers.get("content-type"):"").split(";")[0];if(t.ok){if("application/json"===n)try{return t.json().then((function(t){return e.keysToCamelCase(t)})).catch((function(){return null}))}catch(e){return null}return t}if(n.match(/json$/i))try{return t.json().then((function(t){return e.keysToCamelCase(t)})).then((function(e){return Promise.reject(new Error(e.detail||e.title||e.message||t.statusText||e.status))}),(function(){return Promise.reject(new Error(t.statusText))}))}catch(e){}return Promise.reject(new Error(t.statusText))}}},t=[];e.storageAvailable=function(e){var n;if(!(e in t))try{n=window[e];var o="__storage_test__";n.setItem(o,o),n.getItem(o)!==o&&(new Error("Mismatching storage items.").name="StorageMismatchError"),n.removeItem(o),t[e]=!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"StorageMismatchError"===e.name||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&n&&0!==n.length}return!!t[e]};var n=new Map;return e.storeItem=function(t,o,r,i){var a="weavy_"+window.location.hostname+"_"+t;i=i||"localStorage";try{if(o=r?JSON.stringify(o,e.sanitizeJSON):o,!e.storageAvailable(i))throw new Error;window[i].setItem(a,o)}catch(e){console.warning("Using fallback storage:",t),n.set(a,o)}},e.retrieveItem=function(t,o,r){var i,a="weavy_"+window.location.hostname+"_"+t;r=r||"localStorage";try{if(!e.storageAvailable(r))throw new Error;i=window[r].getItem(a)}catch(e){console.warning("Retrieving fallback storage:",t),i=n.get(a)}if(i&&o)try{return JSON.parse(i)}catch(e){}return i},e.ready=function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e,{once:!0})},e},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)},659:function(e,t){var n,o,r;"undefined"!=typeof self&&self,o=[],void 0===(r="function"==typeof(n=function(){let e=(void 0!==self?self:window).wvy||{};return e.t=function(e){return(window.wvy&&null!==window.wvy.resources?window.wvy.resources[e]:e)||e},Object.defineProperty(e,"settings",{get:function(){return e.utils.retrieveItem("wvy.settings",!0,"sessionStorage")},set:function(t){if(!e.utils.isPlainObject(t))throw new Error("Invalid settings object");let n=e.utils.retrieveItem("wvy.settings",!0,"sessionStorage");n&&(t=e.utils.assign(n,t)),e.utils.storeItem("wvy.settings",t,!0,"sessionStorage")}}),e})?n.apply(t,o):n)||(e.exports=r)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{default:()=>t.a,console:()=>r.Z,postal:()=>i.Z,promise:()=>s.a,utils:()=>l.a});var e=n(659),t=n.n(e),r=n(252),i=n(122),a=n(700),s=n.n(a),c=n(174),l=n.n(c)})(),o})()}));